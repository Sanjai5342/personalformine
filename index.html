<!DOCTYPE html>
<html>
<head>
<title>Rajasri Special Memories</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

body{
  margin:0;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg,#ff9a9e,#fad0c4,#fbc2eb,#a18cd1);
  background-size:400% 400%;
  animation: bgMove 15s infinite alternate;
  color:white;
}

@keyframes bgMove{
  0%{background-position:0% 50%;}
  100%{background-position:100% 50%;}
}

.center{
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  flex-direction:column;
  text-align:center;
}

.glass{
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(15px);
  padding:30px;
  border-radius:20px;
  box-shadow:0 0 40px rgba(0,0,0,0.2);
}

input, textarea{
  width:90%;
  padding:10px;
  margin:8px;
  border:none;
  border-radius:10px;
  outline:none;
}

button{
  padding:10px 20px;
  border:none;
  border-radius:20px;
  background:#ff4d88;
  color:white;
  cursor:pointer;
  transition:0.3s;
}

button:hover{
  transform:scale(1.1);
  background:#ff0066;
}

header{
  padding:20px;
  text-align:center;
  font-size:25px;
  font-weight:bold;
}

.folders{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:20px;
  padding:20px;
}

.folder{
  width:220px;
  padding:20px;
  cursor:pointer;
  transition:0.4s;
  border-radius:20px;
}

.folder:hover{
  transform:translateY(-10px) scale(1.05);
}

.memory-card{
  background:rgba(255,255,255,0.2);
  margin:15px;
  padding:15px;
  border-radius:15px;
  animation:fadeIn 0.5s ease;
}

.memory-card img{
  width:100%;
  border-radius:10px;
  margin-top:10px;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:translateY(0);}
}

.quote{
  font-style:italic;
  margin-bottom:15px;
}

</style>
</head>

<body>

<!-- LOGIN PAGE -->
<div id="loginPage" class="center">
  <div class="glass">
    <h2>üíñ Rajasri Special Memories</h2>
    <input type="email" id="email" placeholder="Mail ID">
    <input type="password" id="password" placeholder="Password">
    <button onclick="login()">Enter</button>
    <p id="error" style="color:yellow;"></p>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dashboard" style="display:none;">
  <header>üå∏ Sanjai Rajasri Memories</header>

  <div style="text-align:center;">
    <div class="quote">
      ‚ÄúSome memories are not moments‚Ä¶ they are forever feelings.‚Äù
    </div>
    <button onclick="createFolder()">‚ûï Create New Folder</button>
    <button onclick="logout()">Logout</button>
  </div>

  <div class="folders"></div>
</div>

<!-- FOLDER PAGE -->
<div id="folderPage" style="display:none; padding:20px;">
  <button onclick="back()">‚¨Ö Back</button>
  <h2 id="folderTitle"></h2>

  <div class="glass" style="margin-top:20px;">
    <input type="text" id="title" placeholder="Memory Title">
    <input type="date" id="date">
    <textarea id="desc" placeholder="Description"></textarea>
    <input type="file" id="photo" accept="image/*">
    <button onclick="saveMemory()">Save Memory</button>
  </div>

  <div id="memoryContainer"></div>
</div>

<script>

let currentFolder="";

/* LOGIN */
function login(){
  if(email.value==="sanjairaji@gmail.com" && password.value==="3011"){
    loginPage.style.display="none";
    dashboard.style.display="block";
    loadFolders();
  } else{
    error.innerText="Invalid Login!";
  }
}

function logout(){
  location.reload();
}

/* FOLDER SYSTEM */
function createFolder(){
  let name=prompt("Enter Folder Name:");
  if(!name || name.trim()===""){
    alert("Folder name required!");
    return;
  }

  let folders=JSON.parse(localStorage.getItem("folders"))||[];

  if(folders.includes(name)){
    alert("Folder already exists!");
    return;
  }

  folders.push(name);
  localStorage.setItem("folders",JSON.stringify(folders));
  loadFolders();
}

function loadFolders(){
  let container=document.querySelector(".folders");
  container.innerHTML="";
  let folders=JSON.parse(localStorage.getItem("folders"))||[];

  folders.forEach(folder=>{
    let div=document.createElement("div");
    div.className="folder glass";
    div.innerHTML=`
      <h3>üìÅ ${folder}</h3>
      <p>"Every folder hides a beautiful story."</p>
    `;
    div.onclick=()=>openFolder(folder);
    container.appendChild(div);
  });
}

/* OPEN FOLDER */
function openFolder(name){
  currentFolder=name;
  dashboard.style.display="none";
  folderPage.style.display="block";
  folderTitle.innerText=name;
  loadMemories();
}

function back(){
  folderPage.style.display="none";
  dashboard.style.display="block";
}

/* SAVE MEMORY */
function saveMemory(){
  if(title.value.trim()==="" || desc.value.trim()===""){
    alert("Title & Description required!");
    return;
  }

  let memories=JSON.parse(localStorage.getItem(currentFolder))||[];
  let file=photo.files[0];

  if(file){

    if(!file.type.startsWith("image/")){
      alert("Only image allowed!");
      return;
    }

    if(file.size>2*1024*1024){
      alert("Image must be below 20MB!");
      return;
    }

    let reader=new FileReader();
    reader.onload=function(e){
      memories.push({
        t:title.value,
        d:date.value,
        ds:desc.value,
        img:e.target.result
      });

      localStorage.setItem(currentFolder,JSON.stringify(memories));
      clearFields();
      loadMemories();
    }
    reader.readAsDataURL(file);

  } else{
    memories.push({
      t:title.value,
      d:date.value,
      ds:desc.value,
      img:null
    });

    localStorage.setItem(currentFolder,JSON.stringify(memories));
    clearFields();
    loadMemories();
  }
}

function loadMemories(){
  memoryContainer.innerHTML="";
  let memories=JSON.parse(localStorage.getItem(currentFolder))||[];

  memories.forEach((m,index)=>{
    let div=document.createElement("div");
    div.className="memory-card";
    div.innerHTML=`
      <h3>${m.t}</h3>
      <small>${m.d||""}</small>
      <p>${m.ds}</p>
      ${m.img?`<img src="${m.img}">`:""}
      <br><br>
      <button onclick="deleteMemory(${index})">Delete</button>
    `;
    memoryContainer.appendChild(div);
  });
}

function deleteMemory(index){
  let memories=JSON.parse(localStorage.getItem(currentFolder))||[];
  memories.splice(index,1);
  localStorage.setItem(currentFolder,JSON.stringify(memories));
  loadMemories();
}

function clearFields(){
  title.value="";
  date.value="";
  desc.value="";
  photo.value="";
}

</script>

</body>
</html>

